"use strict";var Http={get:function(t){return"string"==typeof t&&(t={url:String(t),params:{}}),this.Request("GET",t)},post:function(t){return this.Request("POST",t)},patch:function(t){return this.Request("PATCH",t)},put:function(t){return this.Request("PUT",t)},delete:function(t){return this.Request("DELETE",t)},Request:function(t,e){var n=e.url,u=e.params,o=e.headers,i=e.mask,s=e.loading;return(void 0===s||s)&&wx.showLoading&&wx.showLoading({title:"Loading...",mask:i||!1}),new Promise(function(i,s){wx.request({url:n,data:u,method:-1<["GET","POST","PATCH","PUT","DELETE"].indexOf(t)?t:"GET",header:Object.assign({"Content-Type":"application/json"},o),success:function(t){var e=t.data,n=t.statusCode;200===n?i(e):s(e,n)},fail:function(){s("Network request failed")},complete:function(){wx.hideLoading&&wx.hideLoading()}})})}};module.exports=Http;